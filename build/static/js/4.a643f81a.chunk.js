(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[4],{103:function(t,e,n){"use strict";n.r(e);var r,a=n(36),o=n(37),c=n(39),i=n(38),u=n(0),s=n(9),l=n(49),f=n(4),b=new Uint8Array(16);function m(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(b)}var p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var d=function(t){return"string"===typeof t&&p.test(t)},j=[],h=0;h<256;++h)j.push((h+256).toString(16).substr(1));var g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(j[t[e+0]]+j[t[e+1]]+j[t[e+2]]+j[t[e+3]]+"-"+j[t[e+4]]+j[t[e+5]]+"-"+j[t[e+6]]+j[t[e+7]]+"-"+j[t[e+8]]+j[t[e+9]]+"-"+j[t[e+10]]+j[t[e+11]]+j[t[e+12]]+j[t[e+13]]+j[t[e+14]]+j[t[e+15]]).toLowerCase();if(!d(n))throw TypeError("Stringified UUID is invalid");return n};var O=function(t,e,n){var r=(t=t||{}).random||(t.rng||m)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return g(r)},C=n(16),v=n.n(C),y=n(23),x=n(18),_=n.n(x),I=n(10),w=function(t,e){return function(n){var r={name:t,number:e};n(Object(I.b)()),_.a.post("/contacts",r).then((function(t){var e=t.data;return n(Object(I.c)(e))})).catch((function(t){return n(Object(I.a)(t.massage))}))}},L=function(t){return function(e){e(Object(I.f)()),_.a.delete("/contacts/".concat(t)).then((function(){return e(Object(I.g)(t))})).catch((function(t){return e(Object(I.e)(t.massage))}))}},N=function(){return function(){var t=Object(y.a)(v.a.mark((function t(e){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(I.i)()),t.prev=1,t.next=4,_.a.get("/contacts");case 4:n=t.sent,r=n.data,e(Object(I.j)(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(I.h)(t.t0.massage));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},A=n(27),k=function(t){return t.contacts.filter},F=function(t){return t.contacts.items},D={getLoading:function(t){return t.contacts.loading},getFilter:k,getAllContacts:F,getVisibleContactName:Object(A.a)([F,k],(function(t,e){var n=e.toLowerCase();return console.log(t),t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},S=n(95),V=n.n(S),T=n(1),z=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:""},t.nameInputId=O(),t.numberInputId=O(),t.inputChange=function(e){var n=e.currentTarget,r=n.name,a=n.value;t.setState(Object(f.a)({},r,a))},t.onAddContact=function(e){var n=t.props.items,r=t.state,a=r.name,o=r.number;e.preventDefault(),n.find((function(t){return t.name.toLowerCase()===a.toLowerCase()}))?alert("\u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!"):(t.props.onSubmit(a,o),t.reset())},t.reset=function(){t.setState({name:"",number:""})},t}return Object(o.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,r=this.onAddContact,a=this.inputChange,o=this.nameInputId,c=this.numberInputId;return Object(T.jsxs)("form",{className:V.a.formContact,onSubmit:r,children:[Object(T.jsxs)("label",{htmlFor:o,className:V.a.formLabel,children:["Name",Object(T.jsx)("input",{pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,type:"text",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",name:"name",value:e,className:V.a.formInput,onChange:a,id:o})]}),Object(T.jsxs)("label",{htmlFor:c,className:V.a.formLabel,children:["Number",Object(T.jsx)("input",{type:"telephone",placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440",name:"number",className:V.a.formInput,value:n,onChange:a,id:c})]}),Object(T.jsx)("button",{type:"submit",className:V.a.button,children:"Add contact"})]})}}]),n}(u.Component),M=Object(s.b)((function(t){return{items:D.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(w(e,n))}}}))(z),R=n(96),B=n.n(R),U=Object(s.b)((function(t){return{value:D.getFilter(t)}}),(function(t){return{onChange:function(e){return t(Object(I.d)(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(T.jsxs)("lable",{className:B.a.filter,children:[Object(T.jsx)("p",{className:B.a.filterTitle,children:"Find contacts by name"}),Object(T.jsx)("input",{className:B.a.filterInput,type:"text",value:e,onChange:n})]})})),Z=n(97),E=n.n(Z),J=function(t){var e=t.contacts,n=t.onDeleteContact;return Object(T.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.name,a=t.number;return Object(T.jsxs)("li",{className:E.a.contactItem,children:[r,": ",a,Object(T.jsx)("button",{className:E.a.buttonDel,onClick:function(){return n(e)},children:"Deleted"})]},e)}))})},X=Object(s.b)((function(t){return{contacts:D.getVisibleContactName(t)}}),(function(t){return{onDeleteContact:function(e){return t(L(e))}}}))(J),$={barStyles:{},containerBox:{width:500,margin:"auto",textAlign:"left",backgroundColor:"inherit"},title:{marginTop:15,marginBottom:15,color:"#E84A5F"}},q=function(t){Object(c.a)(n,t);var e=Object(i.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(T.jsx)(l.a,{children:Object(T.jsxs)("div",{style:$.containerBox,children:[Object(T.jsx)("h1",{style:$.title,children:"Phonebook"}),Object(T.jsx)(M,{}),Object(T.jsx)("h2",{style:$.title,children:"Contacts"}),this.props.isLoadingContacts&&Object(T.jsx)("h1",{children:"Loading..."}),Object(T.jsx)(U,{}),Object(T.jsx)(X,{})]})})}}]),n}(u.Component);e.default=Object(s.b)((function(t){return{isLoadingContacts:D.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(N())}}}))(q)},95:function(t,e,n){t.exports={formContact:"ContactForm_formContact__2il42",formLabel:"ContactForm_formLabel__X2kXj",formInput:"ContactForm_formInput__3tnQj",button:"ContactForm_button__2bNzU"}},96:function(t,e,n){t.exports={filter:"Filter_filter__1AkZ9",filterInput:"Filter_filterInput__2VHw5",filterTitle:"Filter_filterTitle__3uKM2"}},97:function(t,e,n){t.exports={contactItem:"ContactList_contactItem__1M3yg",buttonDel:"ContactList_buttonDel__c_G8M"}}}]);
//# sourceMappingURL=4.a643f81a.chunk.js.map